<ion-modal-view>
    <ion-header-bar class=" bar-positive nav-title-slide-full">
        <div class="buttons">
            <button class="button button-clear  icon-left ion-android-arrow-back" ng-click="closePushActivityModal()"></button>
        </div>
        <h1 class="title">发布活动</h1>
        <div class="buttons">
            <button class="button button-clear icon " ng-click="showPushActivirySheet('提交')">提交</button>
        </div>
    </ion-header-bar>
    <ion-content padding="false" class="has-header no-footer" has-bouncing="true">
        <form name="pushActivityForm">
            <div class="list css-valid-form">
                <label class="item item-input item-icon-right">
                    <span class="input-label">标题:</span>
                    <input type="text" ng-model='pushActivity.title' name="title" placeholder="请输入标题" required>
                     <i class="icon ion-close-circled error_icon" ng-show='pushActivityForm.title.$invalid' ></i>
                     <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.title.$invalid'></i>
                </label>
                <label class="item item-input item-icon-right">
                    <span class="input-label">联系人:</span>
                    <input type="text" ng-model="pushActivity.linkman" name="linkman" placeholder="请输入联系人" required>
                     <i class="icon ion-close-circled error_icon" ng-show='pushActivityForm.linkman.$invalid' ></i>
                     <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.linkman.$invalid'></i>
                </label>
                <label class="item item-input item-icon-right">
                    <span class="input-label">电话:</span>
                    <input type="tel" ng-model="pushActivity.linkphone" name="linkphone" placeholder="11位数字" maxlength='11' ng-pattern="/^[0-9]{11}$/" required>
                     <i class="icon ion-close-circled error_icon" ng-show='pushActivityForm.linkphone.$invalid' ></i>
                     <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.linkphone.$invalid'></i>
                </label>
                <label class="item item-input item-icon-right">
                    <span class="input-label">地址:</span>
                    <input type="text" ng-model="pushActivity.linkaddress" name="linkaddress" placeholder="请输入地址" required>
                     <i class="icon ion-close-circled error_icon" ng-show='pushActivityForm.linkaddress.$invalid' ></i>
                     <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.linkaddress.$invalid'></i>
                </label>
                 <label class="item item-input item-icon-right " ng-click="showActivityTypeModal()">
                    <span class="input-label">类型:</span>
                    <span class="ng-binding ng-hide" ng-show="pushActivity.activitytype">{{pushActivity.activitytype}}</span>
                    <span class="tips-info" ng-show="!pushActivity.activitytype">请选择类型</span>
                    <input type="hidden" ng-model="pushActivity.activitytype" name="activitytype" placeholder="请选择类型" required/>
                     <i class="icon ion-close-circled error_icon" ng-show='pushActivityForm.activitytype.$invalid' ></i>
                     <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.activitytype.$invalid'></i>
                </label>
                </label>

                 <label class="item item-input item-icon-right " ng-click="showActivityRegionTypeModal()">
                    <span class="input-label">区域:</span>
                    <span class="ng-binding ng-hide" ng-show="pushActivity.region">{{pushActivity.region}}</span>
                    <span class="tips-info" ng-show="!pushActivity.region">请选择区域</span>
                    <input type="hidden" ng-model="pushActivity.region" name="region" placeholder="请选择区域" required/>
                     <i class="icon ion-close-circled error_icon" ng-show='pushActivityForm.region.$invalid' ></i>
                     <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.region.$invalid'></i>
                </label>
                <label class="item item-input item-icon-right" ng-click="getDate()">
                    <span class="input-label">开始时间:</span>
                    <span class="" ng-show="pushActivity.begintime">{{pushActivity.begintime|date:"yyyy-MM-dd hh:mm"}}</span>
                    <span class="tips-info" ng-show="!pushActivity.begintime">请选择时间</span>
                    <input type="hidden" ng-model="pushActivity.begintime" name="begintime" placeholder="请选择时间" required/>
                    <i class="icon ion-close-circled error_icon"  ng-show='pushActivityForm.begintime.$invalid' ></i>
                    <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.begintime.$invalid'></i>
                </label>
                 <label class="item item-input item-icon-right">
                    <span class="input-label">人数:</span>
                    <input type="number" ng-model="pushActivity.needmenbercount" name="needmenbercount" placeholder="请输入人数" ng-pattern="/^[0-9]*$/" required>
                    <i class="icon ion-close-circled error_icon"  ng-show='pushActivityForm.needmenbercount.$invalid' ></i>
                    <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.needmenbercount.$invalid'></i>
                </label>
                <label class="item item-input item-icon-right item-stacked-label">
                    <span class="input-label">详细介绍:</span>
                    <textarea placeholder="请输入您的活动信息......" ng-model="pushActivity.detail" name="detail" required></textarea>
                    <i class="icon ion-close-circled error_icon"  ng-show='pushActivityForm.detail.$invalid' ></i>
                    <i class="icon ion-checkmark-circled success_icon" ng-show='!pushActivityForm.detail.$invalid'></i>
                </label>
                 <label class="item item-input item-icon-right"  ng-click="showActivityImgSheet('activity')" >
                    <span class="input-label">上传图片(最多3张):</span>
                    <i class="ion ion-plus-circled" style="font-size: 30px;color: #dfe0e0;" ng-show="pushActivity.images_list.length<1"></i>
                    <i class="ion ion-checkmark-circled balanced" style="font-size: 30px;" ng-show="pushActivity.images_list.length>0"></i>
                </label>
                <div class="item" ng-repeat="imgObj in pushActivity.images_list" >
                    <img src="{{imgObj.url}}" width="100%" ng-click="showDelectImg('{{imgObj.label}}')">
                </div>
            </div>
        </form>    
    </ion-content>
</ion-modal-view>
